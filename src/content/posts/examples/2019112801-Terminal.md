---
title: Windows Terminalç¾åŒ–
cover: \windowsterminal002.jpg
indexing: true
toc: æ˜¯å¦é¡¯ç¤ºtoc ï¼ˆé™¤éç‰¹å®šæ–‡ç« è¨­ç½®ï¼Œå¯ä»¥ä¸å¯«ï¼‰
toc_number: æ˜¯å¦é¡¯ç¤ºtocæ•¸å­— ï¼ˆé™¤éç‰¹å®šæ–‡ç« è¨­ç½®ï¼Œå¯ä»¥ä¸å¯«ï¼‰
copyright: æ˜¯å¦é¡¯ç¤ºç‰ˆæ¬Š ï¼ˆé™¤éç‰¹å®šæ–‡ç« è¨­ç½®ï¼Œå¯ä»¥ä¸å¯«ï¼‰
comments: true
tags:
  - Terminal
  - Windows
categories:
  - Windows
abbrlink: 39fb
date: 2019-11-28 01:32:09
top:
keywords:
description:
password: ""
theme: xray
---

Windows Terminalæ˜¯å¾®è½¯åœ¨Build 2019ä¸Šæ¨å‡ºäº†ä¸€æ¬¾é¢å‘Windows10çš„å‘½ä»¤è¡Œç¨‹åºï¼Œè¿™æ¬¾ç¨‹åºé›†åˆäº†Windowsä¸Šçš„PowerShellã€CMDä»¥åŠWindows Subsystem for Linuxäºä¸€èº«ï¼Œç°å·²ä¸Šæ¶**Microsoft Store**ï¼Œä½“éªŒéå¸¸ä¸é”™ã€‚

<img src="2019112801-Terminal\windowsterminal001.jpg"
style="zoom:50%;" />

## è½¯ä»¶å®‰è£…

- [Microsoft Store](https://www.microsoft.com/zh-cn/p/windows-terminal-preview/9n0dx20hk701?activetab=pivot:overviewtab)
- [Github](https://github.com/microsoft/terminal)

## Windows Terminalç¾åŒ–

### æ”¹é€ PowerShell

é»˜è®¤çš„PowerShellå¹¶ä¸ç¾è§‚ï¼Œæˆ‘çš„åšæ³•æ˜¯åœ¨PowerShellé‡Œé¢åŠ ä¸€ä¸ªPowerLineï¼Œç„¶åå‰©ä¸‹çš„ï¼Œåœ¨Windows Terminalä¸­é…ç½®ã€‚

å®‰è£…PowerLineçš„æ–¹æ³•å¾ˆç®€å•ï¼Œæˆ‘ä»¬è¦å…ˆå®‰è£…oh-my-poshï¼Œé¦–å…ˆæ‰“å¼€ä¸€ä¸ªPowerShellï¼Œè¾“å…¥

```powershell
Install-Module posh-git -Scope CurrentUser
Install-Module oh-my-posh -Scope CurrentUser
```

å¦‚æœä½ ä½¿ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€PowerShellå¹¶ä¸”æƒ³æŠŠoh-my-poshå®‰è£…åˆ°æ‰€æœ‰ç”¨æˆ·ï¼Œåˆ™è¾“å…¥

```powershell
Install-Module posh-git
Install-Module oh-my-posh
```

è¿™é‡Œå¦‚æœè®©ä½ å…è®¸ä»€ä¹ˆä¸å¯ä¿¡çš„æ¥æºï¼Œè¾“å…¥`Y`è¡¨ç¤ºåŒæ„å³å¯ã€‚

å®‰è£…å®Œæˆåæ‰“å¼€`~\Documents\WindowsPowerShell`ï¼Œæ–°å»ºæ–‡æœ¬æ–‡æ¡£ï¼Œå«åš`Microsoft.PowerShell_profile.ps1`ï¼ˆè®°å¾—å¼€æ‹“å±•åæ˜¾ç¤ºï¼‰ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼Œä¿å­˜ã€‚

```powershell
Import-Module posh-git
Import-Module oh-my-posh
Set-Theme PowerLine #ä¸»é¢˜ PowerLine Agnoster Sorin
```

è¿™æ ·ï¼Œåœ¨æ¯æ¬¡PoweShellæ‰“å¼€çš„æ—¶å€™éƒ½èƒ½å¯ç”¨PowerLineä¸»é¢˜ã€‚

**æ³¨æ„ï¼š**å¦‚æœä½ çš„ç”µè„‘é‡Œæ²¡æœ‰å®‰è£…Gitï¼Œåœ¨è¾“å…¥Import-Module posh-gitä¼šæŠ¥é”™ï¼Œè§£å†³æ–¹æ³•æ˜¯[å®‰è£…Git](https://git-scm.com/)æˆ–è€…æŠŠè¿™ä¸€è¡Œå»æ‰ã€‚

### PowerLineå­—ä½“

å¯æ˜¯è¿™æ ·ï¼ŒPowerShellæ‰“å¼€çš„æ—¶å€™ä»æœ‰ä¹±ç ï¼ŒPowerline å­—ä½“å¯ä»¥å®Œç¾è§£å†³ï¼Œä¸‹è½½å®‰è£…ä½¿ç”¨å³å¯ã€‚

- [Powerline å­—ä½“](https://github.com/ueaner/vimrc/blob/master/support/POWERLINE_FONTS.md)
- æˆ‘å–œæ¬¢çš„[consolas](https://github.com/Znuff/consolas-powerline)

### Windows Terminalä¸»é¢˜ä¿®æ”¹

å®‰è£…å®ŒWindows Terminalåç³»ç»Ÿé»˜è®¤PowerShellåŸºæœ¬å°±ç”¨ä¸åˆ°äº†ï¼Œæ‰€ä»¥åªè¦ç¾åŒ–Windows Terminalå³å¯ã€‚

é¦–å…ˆ`Ctrl+ï¼Œ`æ‰“å¼€è®¾ç½®ï¼Œä¿®æ”¹ç›¸å…³é…ç½®ï¼Œç›¸å…³é…ç½®å¯ä»¥å‚è€ƒ[Documentation]( https://github.com/microsoft/terminal/blob/master/doc/cascadia/SettingsSchema.md ) ã€‚

ä¸»é¢˜å¯ä»¥è‡ªå·±é…ç½®

- [ColorTool](https://github.com/microsoft/terminal/tree/master/src/tools/ColorTool)
- [terminal.sexy](https://terminal.sexy/)

æœ¬äººä½¿ç”¨çš„2å¥—ä¸»é¢˜æ˜¯`One Half Light` ï¼Œ`One Half Dark`ï¼Œåœ¨`schemes`æ·»åŠ ååœ¨`colorScheme`é€‰æ‹©å³å¯ã€‚

```json
//Â AddÂ customÂ colorÂ schemesÂ toÂ thisÂ array
"schemes": [
    {
        "background": "#282C34",
        "black": "#282C34",
        "blue": "#61AFEF",
        "brightBlack": "#5A6374",
        "brightBlue": "#61AFEF",
        "brightCyan": "#56B6C2",
        "brightGreen": "#98C379",
        "brightPurple": "#C678DD",
        "brightRed": "#E06C75",
        "brightWhite": "#DCDFE4",
        "brightYellow": "#E5C07B",
        "cyan": "#56B6C2",
        "foreground": "#DCDFE4",
        "green": "#98C379",
        "name": "One Half Dark",
        "purple": "#C678DD",
        "red": "#E06C75",
        "white": "#DCDFE4",
        "yellow": "#E5C07B"
    },
    {
        "background": "#FAFAFA",
        "black": "#383A42",
        "blue": "#0184BC",
        "brightBlack": "#4F525D",
        "brightBlue": "#61AFEF",
        "brightCyan": "#56B5C1",
        "brightGreen": "#98C379",
        "brightPurple": "#C577DD",
        "brightRed": "#DF6C75",
        "brightWhite": "#FFFFFF",
        "brightYellow": "#E4C07A",
        "cyan": "#0997B3",
        "foreground": "#383A42",
        "green": "#50A14F",
        "name": "One Half Light",
        "purple": "#A626A4",
        "red": "#E45649",
        "white": "#FAFAFA",
        "yellow": "#C18301"
    }
]
```

## æ·»åŠ Windows Terminalåˆ°é¼ æ ‡å³é”®èœå•

åˆ›å»ºå›¾æ ‡

æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥å‘½ä»¤åˆ›å»ºæ–‡ä»¶å¤¹ã€‚

```
mkdir "C:\Users\[user_name]\AppData\Local\terminal"
```

æ³¨æ„ï¼šè¯·æŠŠ`[user_name]`æ”¹æˆè‡ªå·±ç”µè„‘çš„ç”¨æˆ·åã€‚

åˆ° [terminal.ico](https://github.com/microsoft/terminal/tree/master/res) ä¸‹è½½å›¾æ ‡æ”¾å…¥terminalæ–‡ä»¶å¤¹ã€‚

å†™å…¥æ³¨å†Œè¡¨
åˆ›å»ºä¸€ä¸ª`.reg`æ–‡ä»¶ï¼Œå³é”®èœå•å‡ºç°Windows Terminalæœ‰ä¸¤ç§æ–¹æ³•ã€‚ä¸€ç§æ˜¯æŒ‰`shift+å³é”®`,å¦ä¸€ç§æ˜¯ç›´æ¥`å³é”®`ã€‚

**shift+ å³é”®**
æŠŠä¸‹é¢çš„å†…å®¹å¤åˆ¶åˆ°`.reg`æ–‡ä»¶å†…

```
Windows Registry Editor Version 5.00

[HKEY_CLASSES_ROOT\Directory\Background\shell\wt]
@="Windows terminal"
"Icon"="C:\Users\[user_name]\AppData\\Local\\terminal\\terminal.ico"
"Extended"=""

[HKEY_CLASSES_ROOT\Directory\Background\shell\wt\command]
@="C:\Users\[user_name]\AppData\Local\Microsoft\WindowsApps\wt.exe"
```

æ³¨æ„ï¼šè¯·æŠŠ`[user_name]`æ”¹æˆè‡ªå·±ç”µè„‘çš„ç”¨æˆ·åã€‚

**å³é”®**
æŠŠä¸‹é¢çš„å…§å®¹å¤åˆ¶åˆ°`.reg`æ–‡ä»¶å†…

```
Windows Registry Editor Version 5.00

[HKEY_CLASSES_ROOT\Directory\Background\shell\wt]
@="Windows terminal"
"Icon"="C:\Users\[user_name]\AppData\\Local\\terminal\\terminal.ico"

[HKEY_CLASSES_ROOT\Directory\Background\shell\wt\command]
@="C:\Users\[user_name]\AppData\Local\Microsoft\WindowsApps\wt.exe"
```

æ³¨æ„ï¼šè¯·æŠŠ`[user_name]`æ”¹æˆè‡ªå·±ç”µè„‘çš„ç”¨æˆ·åã€‚

<img src="2019112801-Terminal\windowsterminal004.jpg"
style="zoom:50%;" />

## åœ¨Visual Studio Codeä¸­å¯ç”¨

```json
"terminal.integrated.shell.windows": "C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\powershell.exe",
"terminal.integrated.fontFamily": "Consolas NF,KaiTi",
```

<img src="2019112801-Terminal\windowsterminal003.jpg"
style="zoom:50%;" />
**æœ€åå‘¢ğŸ˜**

<img src="2019112801-Terminal\windowsterminal005.jpg"
style="zoom:50%;" />

ğŸ“–[å‚è€ƒ1](https://jerryc.me/posts/c621cf12)ï¼Œ[å‚è€ƒ2](https://sspai.com/post/52868)ï¼Œ[å‚è€ƒ3](https://sspai.com/post/5290)ã€‚

------
